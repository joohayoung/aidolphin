{% extends 'basehome.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'mainapp/home.css' %}" type="text/css"> 
{% endblock %}

{% block content %}
    <div id="banner">
        <img class='banner_img' src="{% static 'mainapp/image/banner3.png' %}" alt='banner'>
    </div>
    <div id='home_container'>
        <!-- 키워드 검색 -->
        <div id='banner_text'>
            Ai Dolphin<br>
            가장 빠르고 정확한 음향 분석과 검색 Ai<br>
            이제 음향은 dolphin으로!
        </div>
        <div class="search">
            <form action="{% url 'mainapp:search' %}" method="GET">
                {% csrf_token %}
                <input type="text" class="search-input" placeholder="search..." name="kw">
                <input type="hidden" name='licenses[]' value="{{'all'}}">
                <button type="submit" class="search-icon">
                    <img src="{% static 'image/white_search@0.5x.png' %}" alt='search icon'>
                </button>
            </form>
        </div>
        <!-- 실시간검색 -->
        <div id='live'>
            <audio id="player" controls></audio>
            <script>  
            var player = document.getElementById('player');

            var handleSuccess = function(stream) {
                if (window.URL) {
                player.src = window.URL.createObjectURL(stream);
                } else {
                player.src = stream;
                }
            };
            navigator.mediaDevices.getUserMedia({ audio: true, video: false })
                .then(handleSuccess)
            </script>
            녹음버튼
            종료버튼
            분석
            들어보기(추가)
            다시녹음(추가)
        </div>
        <!-- 파일검색 -->
        <div id='file'>
            <form>
                <input type="file" name="file" id="file" class="inputfile" accept="audio/*" capture="microphone" required/>
                <label for="file"><strong>Choose a file</strong></label>
                <input type="submit">
            </form>
        </div>
    </div>
{% endblock %}